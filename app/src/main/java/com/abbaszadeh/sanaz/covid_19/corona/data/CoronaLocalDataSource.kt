package com.abbaszadeh.sanaz.covid_19.corona.data

import androidx.lifecycle.LiveData
import com.abbaszadeh.sanaz.covid_19.core.MyApplication
import com.abbaszadeh.sanaz.covid_19.core.db.CoronaDatabase
import com.abbaszadeh.sanaz.covid_19.corona.data.database.CompleteInfo
import com.abbaszadeh.sanaz.covid_19.corona.data.database.GeneralStatistics
import com.abbaszadeh.sanaz.covid_19.corona.data.model.CoronaNetworkItem

class CoronaLocalDataSource {

    val db = CoronaDatabase.getDatabase(MyApplication.app)


    suspend fun insertAllCountries(list: ArrayList<CoronaNetworkItem>) {

        list.forEach { corona ->
            db.coronaDao().insertCoronas(corona)

            corona.countryInfo?.let {

                it.persianName = when (it.iso3) {
                    "AFG" -> "افغانستان"
                    "ALB" -> "آلبانی"
                    "DZA" -> "الجزایر"
                    "AND" -> "آندورا"
                    "AGO" -> "آنگولا"
                    "ATG" -> "آنتیگوئا وباربادو"
                    "ARG" -> "آرژانتین"
                    "ARM" -> "ارمنستان"
                    "AUS" -> "استرالیا"
                    "AUT" -> "اتریش"
                    "AZE" -> "آذربایجان"
                    "BHS" -> "باهاماس"
                    "BHR" -> "بحرین"
                    "BGD" -> "بنگلادش"
                    "BRB" -> "باربادوس"
                    "BLR" -> "بلاروس"
                    "BEL" -> "بلژیک"
                    "BLZ" -> "بلیز"
                    "BEN" -> "بنین"
                    "BTN" -> "بوتان"
                    "BOL" -> "بولیوی"
                    "BIH" -> "بوسنی و هرزگوین"
                    "BWA" -> "بوتسوانا"
                    "BRA" -> "برزیل"
                    "BRN" -> "برونئی"
                    "BGR" -> "بلغارستان"
                    "BFA" -> "بورکینافاسو"
                    "BDI" -> "بروندی"
                    "KHM" -> "کامبودیا"
                    "CMR" -> "کامرون"
                    "CAN" -> "کانادا"
                    "CPV" -> "کیپ ورد"
                    "CAF" -> "جمهوری آفریقای مرکزی"
                    "TCD" -> "چاد"
                    "CHL" -> "شیلی"
                    "CHN" -> "چین"
                    "COL" -> "کلمبیا"
                    "COM" -> "کوموروس"
                    "COG" -> "کنگو"
                    "COD" -> "جمهوری دموکراتیک کنگو"
                    "CRI" -> "کاستاریکا"
                    "CIV" -> "ساحل عاج"
                    "HRV" -> "کرواسی"
                    "CUB" -> "کوبا"
                    "CYP" -> "قبرس"
                    "CZE" -> "چک"
                    "DNK" -> "دانمارک"
                    "DJI" -> "جیبوتی"
                    "DMA" -> "دومینیکا"
                    "DOM" -> "جمهوری دومینکن"
                    "ECU" -> "اکوادور"
                    "EGY" -> "مصر"
                    "SLV" -> "ال سالدوادور"
                    "GNQ" -> "گینه استوایی"
                    "ERI" -> "اریتره"
                    "EST" -> "استونی"
                    "ETH" -> "اتیوپی"
                    "FJI" -> "فیجی"
                    "FIN" -> "فنلاند"
                    "FRA" -> "فرانسه"
                    "GAB" -> "گابن"
                    "GMB" -> "گامبیا"
                    "GEO" -> "گرجستان"
                    "DEU" -> "آلمان"
                    "GHA" -> "غنا"
                    "GRC" -> "یونان"
                    "GRD" -> "گرانادا"
                    "GTM" -> "گواتمالا"
                    "GIN" -> "گینه"
                    "GNB" -> "گینه بیسائو"
                    "GUY" -> "گویانا"
                    "HTI" -> "هائیتی"
                    "HND" -> "هندوراس"
                    "HKG" -> "هنگ کنگ"
                    "HUN" -> "مجارستان"
                    "ISL" -> "ایسلند"
                    "IND" -> "هند"
                    "IDN" -> "اندونزی"
                    "IRN" -> "ایران"
                    "IRQ" -> "عراق"
                    "IRL" -> "ایرلند"
                    "ISR" -> "اسرائیل"
                    "ITA" -> "ایتالیا"
                    "JAM" -> "جاماییکا"
                    "JPN" -> "ژاپن"
                    "JOR" -> "اردن"
                    "KAZ" -> "قزاقستان"
                    "KEN" -> "کنیا"
                    "KIR" -> "کیریباتی"
                    "PRK" -> "کره شمالی"
                    "KOR" -> "کره"
                    "KWT" -> "کویت"
                    "KGZ" -> "قرقیزستان"
                    "LAO" -> "لائوس"
                    "LVA" -> "لاتویا"
                    "LBN" -> "لبنان"
                    "LSO" -> "لسوتو"
                    "LBR" -> "لیبریا"
                    "LBY" -> "لیبی"
                    "LIE" -> "لیختن اشتاین"
                    "LTU" -> "لیتوانی"
                    "LUX" -> "لوکزامبورگ"
                    "MAC" -> "Macau China"
                    "MKD" -> "مقدونیه"
                    "MDG" -> "ماداگاسکار"
                    "MWI" -> "مالاوی"
                    "MYS" -> "مالزی"
                    "MDV" -> "مالدیو"
                    "MLI" -> "مالی"
                    "MLT" -> "مالت"
                    "MHL" -> "جزایر مارشال"
                    "MRT" -> "موریتانی"
                    "MUS" -> "ماریتیوس"
                    "MEX" -> "مکزیک"
                    "FSM" -> "میکرونزیا"
                    "MDA" -> "مولداوی"
                    "MCO" -> "موناکو"
                    "MNG" -> "مغولستان"
                    "MNE" -> "مونته نگرو"
                    "MAR" -> "مراکش"
                    "MOZ" -> "موزامبیک"
                    "MMR" -> "میانمار"
                    "NAM" -> "نامیبیا"
                    "NRU" -> "نائورو"
                    "NPL" -> "نپال"
                    "NLD" -> "هلند"
                    "NZL" -> "نیوزیلند"
                    "NIC" -> "نیکاراگوئه"
                    "NER" -> "نیجر"
                    "NGA" -> "نیجریه"
                    "NOR" -> "نروژ"
                    "OMN" -> "عمان"
                    "PAK" -> "پاکستان"
                    "PLW" -> "پالائو"
                    "PSE" -> "فلسطین"
                    "PAN" -> "پاناما"
                    "PNG" -> "گینه نو"
                    "PRY" -> "پاراگوئه"
                    "PER" -> "پرو"
                    "PHL" -> "فیلیپین"
                    "POL" -> "لهستان"
                    "PRT" -> "پرتغال"
                    "QAT" -> "قطر"
                    "ROU" -> "رومانی"
                    "RUS" -> "روسیه"
                    "RWA" -> "رواندا"
                    "KNA" -> "سنت کیتس و نویس"
                    "LCA" -> "سنت لوسیا"
                    "VCT" -> "سنت وینسنت و گرنادین\u200Cها"
                    "WSM" -> "ساموا"
                    "SMR" -> "سن مارینو"
                    "STP" -> "سائوتومه و پرینسیپ"
                    "SAU" -> "عربستان"
                    "SEN" -> "سنگال"
                    "SRB" -> "صربستان"
                    "SYC" -> "سیشل"
                    "SLE" -> "سیرالئون"
                    "SGP" -> "سنگاپور"
                    "SVK" -> "اسلواکی"
                    "SVN" -> "اسلونی"
                    "SLB" -> "جزایر سلیمان"
                    "SOM" -> "سومالی"
                    "ZAF" -> "آفریقای جنوبی"
                    "ESP" -> "اسپانیا"
                    "LKA" -> "سریلانکا"
                    "SDN" -> "سودان"
                    "SUR" -> "سورینام"
                    "SWZ" -> "سوازیلند"
                    "SWE" -> "سوئد"
                    "CHE" -> "سوییس"
                    "SYR" -> "سوریه"
                    "TWN" -> "تایوان"
                    "TJK" -> "تاجیکستان"
                    "TZA" -> "تانزانیا"
                    "THA" -> "تایلند"
                    "TLS" -> "تیمور شرقی"
                    "TGO" -> "توگو"
                    "TON" -> "تونگا"
                    "TTO" -> "ترینیداد و توباگو"
                    "TUN" -> "تونس"
                    "TUR" -> "ترکیه"
                    "TKM" -> "ترکمنستان"
                    "TUV" -> "تووالو"
                    "UGA" -> "اوگاندا"
                    "UKR" -> "اوکراین"
                    "ARE" -> "امارات"
                    "GBR" -> "انگلستان"
                    "USA" -> "آمریکا"
                    "URY" -> "اروگوئه"
                    "UZB" -> "اوزبکستان"
                    "VUT" -> "وانواتو"
                    "VAT" -> "واتیکان"
                    "VEN" -> "ونزوئلا"
                    "VNM" -> "ویتنام"
                    "ESH" -> "صحرای غربی"
                    "YEM" -> "یمن"
                    "ZMB" -> "زامبیا"
                    "ZWE" -> "زیمبابوه"

                    "BMU" -> "برمودا"
                    "VGB" -> "جزایر ویرجین بریتانیا"
                    "CYM" -> "جزایر کیمن"
                    "MYT" -> "مایوت"
                    "FRO" -> "جزایر فارو"
                    "FLK" -> "جزایر فالکلند"
                    "GUF" -> "گویان فرانسه"
                    "PYF" -> "پلی\u200Cنزی فرانسه"
                    "GIB" -> "جبل طارق"
                    "GRL" -> "گرینلند"
                    "GLP" -> "جزیرهٔ گوادلوپ"
                    "MAC" -> "ماکائو چین"
                    "MTQ" -> "مارتینیک"
                    "MSR" -> "مونتسرات"
                    "CUW" -> "کوراسائو"
                    "ABW" -> "آروبا"
                    "SXM" -> "سینت مارتن"
                    "BES" -> "جزایر کارائیب هلند"
                    "NCL" -> "کالدونیای جدید"
                    "REU" -> "رئونیون"
                    "BLM" -> "سن بارتلمی"
                    "AIA" -> "آنگویلا"
                    "MAF" -> "سنت مارتین فرانسه"
                    "SPM" -> "سن-پیر-ا-میکلون"
                    "SSD" -> "سودان جنوبی"
                    "TCA" -> "جزایر تورکس و کایکوس"
                    "JEY" -> "جزیره\u200Cهای مانش"
                    "IMN" -> "جزیره من"
                    "WLF" -> "والیس و فوتونا"
                    else -> corona.country
                }
                db.coronaDao().insertCountriesInfo(it)

            }
        }
    }

    fun getAllCountries(): List<CompleteInfo> {
        return db.coronaDao().getAllCountries()
    }

    fun getCountryInfo(countryId: Int): CompleteInfo {
        return db.coronaDao().getCountryInfo(countryId)
    }

    fun getGeneralStatistics(): LiveData<GeneralStatistics> {
        return db.coronaDao().getGeneralStatistics()
    }

    fun deleteAll() {
        db.clearAllTables()
    }
}